{% extends 'base.html' %}
{% load static %}
{% block title %}FAQs | {{ settings_obj.meta_title|default:'Best Real Estate Deals' }}{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="bg-orange-600 text-white py-20 text-center relative overflow-hidden">
  <div class="absolute inset-0 bg-[url('/static/assets/images/bg-pattern2.svg')] opacity-10 animate-moveBg"></div>
  <div class="relative z-10 max-w-4xl mx-auto px-6">
    <h1 class="text-5xl font-extrabold mb-3" data-aos="fade-down">Frequently Asked Questions</h1>
    <p class="text-lg opacity-90" data-aos="fade-up">
      Find answers to the most common questions about our real estate services.
    </p>
  </div>
</section>

<!-- FAQ Section -->
<section class="py-20 bg-gray-50">
  <div class="max-w-5xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-12" data-aos="fade-up">
      Your Questions, Answered
    </h2>

    {% if faqs %}
    <div class="space-y-6">
      {% for faq in faqs %}
      <div class="bg-white shadow-lg rounded-xl border border-gray-100 overflow-hidden" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:100 }}">
        <button class="faq-toggle w-full flex justify-between items-center p-5 text-left focus:outline-none">
          <span class="text-lg font-semibold text-gray-800">{{ forloop.counter }}. {{ faq.question }}</span>
          <svg class="w-5 h-5 text-orange-500 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div class="faq-content hidden px-5 pb-5 text-gray-600 leading-relaxed">
          {{ faq.answer|safe }}
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p class="text-center text-gray-500 text-lg">No FAQs available yet. Please check back later.</p>
    {% endif %}
  </div>
</section>

<!-- Toggle Script -->
<script>
  document.querySelectorAll(".faq-toggle").forEach(button => {
    button.addEventListener("click", () => {
      const content = button.nextElementSibling;
      const icon = button.querySelector("svg");

      document.querySelectorAll(".faq-content").forEach(c => {
        if (c !== content) c.classList.add("hidden");
      });
      document.querySelectorAll(".faq-toggle svg").forEach(i => {
        if (i !== icon) i.classList.remove("rotate-180");
      });

      content.classList.toggle("hidden");
      icon.classList.toggle("rotate-180");
    });
  });
</script>

<!-- Animation -->
<style>
@keyframes moveBg { 0% { background-position: 0 0; } 100% { background-position: 1000px 0; } }
.animate-moveBg { animation: moveBg 40s linear infinite; }
</style>

<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js" defer></script>
<script>AOS.init({ duration: 1000, once: true });</script>

{% endblock %}
